## alias
(cl-defun eshell/img (file)
  (propertize "Image" 'display
              (create-image (expand-file-name file))))


## helm
(define-key eshell-mode-map
                (kbd "M-h")
                #'helm-eshell-history)

## helm complete
(define-key eshell-mode-map
                [remap eshell-pcomplete]
                'helm-esh-pcomplete)


(add-to-list 'eshell-visual-commands "ssh")
(add-to-list 'eshell-visual-commands "tail")
(add-to-list 'eshell-command-completions-alist
             `("unarchive.sh" . ,(concat (regexp-opt '(".tar" ".tgz" ".tar.gz" ".txz" ".tar.xz" ".cbz" ".cbr" ".cbx"
                                                       ".rar"))
                                         "\\'")))
(add-to-list 'eshell-output-filter-functions 'eshell-handle-ansi-color)
